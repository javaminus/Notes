MySQL 中的 `IN` 和 `EXISTS` 都是用于**子查询**和**集合条件判断**的常用关键字，但它们的使用方式和底层实现有所不同，适合不同的业务场景。

---

## 1. IN

- **作用**：判断某个字段的值是否在指定的集合中。
- **语法**：  
  ```sql
  SELECT * FROM t_user WHERE id IN (SELECT user_id FROM t_order WHERE amount > 100);
  ```
- **适用场景**：  
  - 子查询返回的是**一组具体的值**（如主键列表）。
  - 集合通常较小，或者有索引。
- **特点**：  
  - 如果子查询结果集很大，效率会下降。
  - 可以用于静态集合：`WHERE id IN (1,2,3,4)`

---

## 2. EXISTS

- **作用**：判断子查询是否有**结果返回**（是否存在满足条件的记录），返回布尔值（true/false）。
- **语法**：  
  ```sql
  SELECT * FROM t_user WHERE EXISTS (SELECT 1 FROM t_order WHERE t_order.user_id = t_user.id AND amount > 100);
  ```
- **适用场景**：  
  - 子查询只需要判断“是否有相关数据”，不关心具体值。
  - 子查询结果集可能很大时，EXISTS 通常更高效。
- **特点**：  
  - 一旦子查询找到满足条件的记录就停止继续查找，提高性能。
  - 常用于**关联子查询**。

---

## 对比总结

| 比较项     | IN                         | EXISTS                           |
| ---------- | -------------------------- | -------------------------------- |
| 返回类型   | 值集合（列表）             | 布尔值（true/false）             |
| 子查询结果 | 需要所有结果               | 只需找到一条满足即返回           |
| 大数据量   | 可能慢，尤其是大集合       | 通常更快，找到即停               |
| 典型用法   | 字段值集合匹配             | 判断是否存在关联数据             |
| 适合场景   | 集合较小、值判断、主键列表 | 关联判断、存在性检测、结果集很大 |

---

**面试建议：**  
- IN 更适合结果集小且有索引的场景；EXISTS 更适合大表关联、只需判断是否有关联数据的场景。  
- 如果子查询字段没有索引，EXISTS 通常比 IN 性能更好。  
- 对于主表大、子表小用 IN，主表小、子表大用 EXISTS。
