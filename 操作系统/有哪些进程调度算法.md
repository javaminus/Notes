### **操作系统的进程调度算法**  

#### **1. 先来先服务（FCFS - First Come, First Serve）**
   - **原则**：按**到达顺序**调度，先到先执行  
   - **特点**：简单、公平，但**可能导致长任务阻塞短任务（等待时间长）**  
   - **适用场景**：**CPU 密集型任务**，适合批处理  

#### **2. 短作业优先（SJF - Shortest Job First）**
   - **原则**：**优先执行**最短的任务  
   - **特点**：减少**平均等待时间**，但**可能导致长任务长期等待（饥饿问题）**  
   - **适用场景**：适合**短任务多**的系统  

#### **3. 最短剩余时间优先（SRTF - Shortest Remaining Time First）**
   - **原则**：SJF 的抢占式版本，新的短任务可抢占当前执行任务  
   - **特点**：进一步减少等待时间，但**调度开销较高**  
   - **适用场景**：适合**短任务多的高响应需求场景**  

#### **4. 时间片轮转（RR - Round Robin）**
   - **原则**：每个进程分配**固定时间片**，用完则切换下一个  
   - **特点**：**适用于交互系统**，但**时间片太短会增加切换开销**  
   - **适用场景**：**多任务并发，如操作系统的任务管理**  

#### **5. 优先级调度（Priority Scheduling）**
   - **原则**：**优先级高的进程先执行**  
   - **特点**：
     - **可能导致低优先级任务饿死**（解决方案：动态调整优先级）  
   - **适用场景**：**实时系统、关键任务调度**  

#### **6. 多级反馈队列（Multilevel Feedback Queue, MLFQ）**
   - **原则**：进程按**优先级分多个队列**，新任务在高优先级队列，执行时间越长，优先级降低  
   - **特点**：
     - 兼顾**短任务优先 + 交互式任务响应快**  
     - 复杂度较高，但适用于多种场景  
   - **适用场景**：**现代操作系统（Windows、Linux）广泛使用**  

---

### **总结：如何选择调度算法？**
| **算法** | **适用场景** | **优缺点** |
|----------|------------|------------|
| **FCFS** | 批处理、长任务 | ✅ 简单公平 ❌ 长任务阻塞短任务 |
| **SJF** | 短任务多的系统 | ✅ 等待时间短 ❌ 长任务可能饿死 |
| **SRTF** | 高响应需求 | ✅ 响应快 ❌ 开销高 |
| **RR** | 多任务并发、交互式 | ✅ 公平，响应快 ❌ 时间片设置难 |
| **优先级** | 关键任务调度 | ✅ 重要任务先执行 ❌ 可能饿死低优先级进程 |
| **MLFQ** | 现代操作系统 | ✅ 适应性强，结合多种算法 ❌ 复杂度高 |

🔥 **现代操作系统一般采用** **多级反馈队列（MLFQ）+ 优先级调度**，保证公平性和高效性！

## 面试官深问与参考答案汇总——进程调度算法

---

### 1. 为什么 SJF 能最小化平均等待时间？但有什么缺点？

**参考答案：**  
SJF（Shortest Job First）总是选择最短任务先执行，较短任务不会被长任务阻塞，因此能有效减少平均等待时间。但缺点是无法预知任务时长（需要估算），且长任务可能长期得不到调度，出现“饥饿”现象。

---

### 2. 时间片轮转（RR）中的时间片如何选择？时间片太大或太小会怎样？

**参考答案：**  
时间片设置过大，会退化为FCFS，响应变慢；时间片过小，频繁切换带来高调度开销，降低CPU利用率。通常选择能兼顾响应性和切换开销的值（如几十毫秒）。

---

### 3. 多级反馈队列（MLFQ）如何防止“饥饿”现象？

**参考答案：**  
MLFQ通过动态调整进程优先级——长时间未调度的低优先级进程会被逐步提升优先级，保证所有进程最终都能获得CPU时间，从而避免饥饿。

---

### 4. 抢占式与非抢占式调度的区别？

**参考答案：**  
抢占式调度允许操作系统在进程运行期间强制切换（如RR、SRTF），提升响应性。非抢占式调度（如FCFS、SJF）进程一旦获得CPU，需运行结束或主动放弃。现代系统多采用抢占式调度。

---

### 5. 现代操作系统为什么采用多级反馈队列，而不是单一算法？

**参考答案：**  
单一算法往往无法兼顾不同类型任务（如短/长、交互/批处理）的需求。MLFQ通过多队列和优先级动态调整，能灵活适应各种场景，提升系统整体性能和公平性。

---

### 6. 优先级调度如何解决低优先级进程饿死的问题？

**参考答案：**  
可以采用“优先级老化”策略，即进程等待时间越长，其优先级逐步提升，最终获得调度机会，防止饿死。

---

### 7. 进程调度算法设计时，主要考虑哪些性能指标？

**参考答案：**  
- 平均等待时间
- 平均周转时间
- 响应时间
- 系统吞吐量
- CPU利用率
- 公平性

---

### 8. SJF/SRTF 为什么很难实际部署在操作系统中？

**参考答案：**  
因为无法准确预知进程的运行时间。实际系统一般用历史统计或估算，但始终有误差，因此多用作理论分析或结合其他算法使用。

---

## 总结

面试中如被追问，重点围绕“公平性、效率、响应性、饥饿、实际可行性、现代系统实践”等关键点展开，结合实际场景理解多种算法优劣与取舍。