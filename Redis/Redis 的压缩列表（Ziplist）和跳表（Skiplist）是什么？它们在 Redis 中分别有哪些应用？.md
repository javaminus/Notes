## 问题：Redis 的压缩列表（Ziplist）和跳表（Skiplist）是什么？它们在 Redis 中分别有哪些应用？

### 1. 压缩列表（Ziplist）

**原理简介：**
- 压缩列表是一种高效、紧凑的连续内存数据结构，本质上是一个连续的字节数组，用于节省内存。
- 每个节点存储数据及前后节点长度信息，支持顺序遍历。
- 适合存储小规模、元素较小、插入删除不频繁的场景。

**在 Redis 中的应用：**
- **List 类型底层实现之一**：当一个 List 较短且元素较小（默认元素数 < 512，元素 < 64 字节），Redis 用 ziplist 存储，实现极致节省内存。
- **Hash、ZSet 的底层编码之一**：小型 Hash（字段和值都较小、数量不多）和小型有序集合 ZSet 也会采用 ziplist 编码。

**优缺点：**
- 优点：极致节省内存，顺序遍历高效。
- 缺点：插入、删除复杂度高，扩展需整体移动数据，不适合大数据量/频繁变更场景。

**通俗例子：**
像地铁车厢里一排排紧挨着坐的人，省空间但要插进/移出某个人，得让整排人挪动位置。

---

### 2. 跳表（Skiplist）

**原理简介：**
- 跳表是一种有序数据结构，支持快速查找、插入和删除，时间复杂度 O(logN)。
- 每个节点有多层索引，越上层索引跨度越大，实现“跳跃式”查找。
- 适用于有序集合和需要范围查找的数据结构。

**在 Redis 中的应用：**
- **ZSet（有序集合）底层实现之一**：当有序集合元素较多时，Redis 采用跳表（和哈希表组合）实现，支持高效范围查找、分数排序、区间操作等。
- 跳表保证有序性，查找和插入性能类似平衡树，但实现更简单。

**优缺点：**
- 优点：查找、插入、删除效率高，实现简单，支持范围查找和有序遍历。
- 缺点：比简单链表或数组略耗内存；极端情况下性能略低于红黑树等，但实际表现优秀。

**通俗例子：**
像多层立交桥，不仅可以一层一层走（链表），还可以直接走高架（索引层）跨越很多路口，查找和通行更快。

---

### 总结性回答（复习提示）

- **压缩列表（ziplist）**：节省内存的小型线性存储结构，常用于小 List、Hash、ZSet。
- **跳表（skiplist）**：高效有序数据结构，支持范围查找和排序，主要用于 ZSet 大数据量场景。