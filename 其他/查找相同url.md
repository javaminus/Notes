# 给定a、b两个文件，各存放50亿个url，每个url各占64字节，内存限制是4G，让你找出a、b文件共同的url

---

### 面试简明回答

由于a、b两个文件各有50亿个URL（每个64字节(byte)，约300GB/个文件），内存只有4GB，无法一次全部加载进内存。常用的解决办法是**分治法（哈希分桶）**：

1. **哈希分桶**：对每个URL做哈希，根据哈希值的前几位将a、b文件分别划分为N个小文件（如1000个分桶，每个桶约300MB，能放进内存）。
2. **两两对应处理**：对于每一个分桶a_i和b_i，只需要在内存中将a_i读入哈希表，然后遍历b_i查找共同的URL，输出交集。
3. **全部分桶处理完，合并结果**：即可得到a、b文件的所有共同URL。

---

### 举例说明

- 假设哈希分成1000个桶：`bucket = hash(url) % 1000`
- a、b文件各自分为a_0~a_999和b_0~b_999
- 对每组(a_i, b_i)：把a_i读入哈希表，遍历b_i查找交集

---

### 优点

- 每一轮只需处理可放入内存的小文件，满足内存限制
- 适用于大数据集的交集、去重等问题

---

**一句话总结：**  
将大文件按哈希划分为小桶，分别找每个桶的交集，能有效解决内存受限下的超大数据集求交集问题。

如需具体代码思路或工具推荐，可随时补充！