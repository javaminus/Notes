# HTTP 协议版本比较：HTTP/1.0、HTTP/1.1、HTTP/2 和 HTTP/3

## HTTP/1.0（1996年）

- **连接特性**：非持久连接，每个请求/响应都需要建立一个新的 TCP 连接
- **性能**：一个连接只处理一个请求，效率较低
- **缓存控制**：基础的缓存控制（If-Modified-Since, Expires）
- **请求方法**：支持 GET, HEAD, POST 
- **状态码**：基础的 HTTP 状态码集

## HTTP/1.1（1997年）

- **连接特性**：引入持久连接（keep-alive），默认开启
- **性能改进**：
  - 管道化请求（Pipelining）：允许在同一连接上发送多个请求而无需等待响应
  - 但仍存在队头阻塞（Head-of-Line Blocking）问题
- **缓存控制**：增强的缓存控制（Cache-Control, ETag）
- **主机头**：引入 Host 头，使虚拟主机成为可能
- **请求方法**：新增 PUT, DELETE, OPTIONS, TRACE 等方法
- **断点续传**：支持范围请求（Range）

## HTTP/2（2015年）

- **多路复用**：单一 TCP 连接上可并行处理多个请求/响应，解决了队头阻塞问题
- **二进制协议**：不再使用文本格式，改用二进制格式传输，更高效
- **头部压缩**：使用 HPACK 算法压缩头部，减少冗余和传输数据量
- **服务器推送**：服务器可以主动向客户端推送资源，无需客户端请求
- **流量控制**：细粒度的流量控制机制
- **优先级**：请求可以设置优先级，优化资源加载顺序
- **安全性**：虽然规范上不要求，但实际上主流浏览器只在 HTTPS 上支持 HTTP/2

## HTTP/3（2022年）

- **传输协议**：基于 QUIC 协议（基于 UDP），而不是 TCP
- **减少握手延迟**：结合了 TLS 1.3，大幅减少连接建立时间
- **真正解决队头阻塞**：因为使用 UDP，避免了 TCP 层面的队头阻塞问题
- **连接迁移**：支持网络切换（如从 WiFi 到移动网络）时保持连接
- **改进的丢包恢复**：更快速的丢包检测和恢复机制
- **多路径**：理论上支持多路径传输
- **前向纠错**：可选的前向纠错功能，进一步提高可靠性

## 主要区别总结

- **HTTP/1.0 到 1.1**：引入持久连接，新增请求方法，改进缓存控制
- **HTTP/1.1 到 2**：多路复用，二进制协议，头部压缩，服务器推送
- **HTTP/2 到 3**：从 TCP 到基于 UDP 的 QUIC，更快的连接建立，真正解决队头阻塞

希望这个解释对您有所帮助！如有更多问题，欢迎继续提问。