**问题：Redis如何实现高并发下的数据一致性？比如缓存和数据库如何保证一致性？**

**详细解释（结合场景，通俗例子）：**  
在高并发场景下，常见的缓存与数据库一致性问题包括**缓存穿透**、**缓存击穿**、**缓存雪崩**以及缓存和数据库内容不一致等。最常见的一致性问题是：数据库中的数据已经修改，但缓存中的旧数据还未更新或删除，导致读取到脏数据。

**常见的一致性方案：**

1. **先更新数据库，再删除缓存（推荐）**  
   - 更新流程：先操作数据库（如MySQL），再删除对应的缓存key。
   - 读取流程：先查缓存，缓存没有再查数据库并回填缓存。
   - **优点**：简单易实现，能有效避免并发下数据不一致。
   - **注意**：删除缓存和更新数据库不是原子操作，极端场景下可能出现并发写入时缓存脏读问题（可用延迟双删等方式进一步优化）。

2. **先删除缓存，再更新数据库**  
   - 可能导致并发下脏数据回写缓存，产生不一致，不推荐。

3. **延迟双删策略**  
   - 步骤：更新数据库→删除缓存→延迟一段时间后再次删除缓存。
   - **优点**：减少并发场景下短时间内因缓存未及时失效导致的数据不一致。

4. **使用消息队列异步处理**  
   - 数据变更时，先写数据库、发消息通知，消费端异步删除缓存，保证最终一致性。

**通俗例子：**  
就像商场打折信息变更，先在后台系统（数据库）改价，再让前台展示牌（缓存）撤下，避免顾客看到旧价格再去结账。

**总结性回答/提示词：**  
缓存一致性推荐“先更新数据库，再删除缓存”，可配合延迟双删或消息队列，确保高并发下数据最终一致。